generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model alembic_version {
  version_num String @id(map: "alembic_version_pkc") @db.VarChar(32)
}

model ingest_log {
  id         BigInt   @id @default(autoincrement())
  slug       String?  @db.VarChar(200)
  status     String   @db.VarChar(50)
  error_text String?
  created_at DateTime @default(now()) @db.Timestamptz(6)
}

model posts {
  id          BigInt   @id @default(autoincrement())
  slug        String   @unique(map: "ix_posts_slug") @db.VarChar(200)
  locale      String   @db.VarChar(10)
  section     String?  @db.VarChar(100)
  categories  String[]
  tags        String[]
  title       String   @db.VarChar(200)
  description String?  @db.VarChar(255)
  canonical   String?  @db.VarChar(255)
  robots      String?  @db.VarChar(50)
  headline    String?  @db.VarChar(200)
  lead        String?
  body_mdx    String
  geo_focus   String[]
  faq         Json?
  citations   Json?
  created_at  DateTime @default(now()) @db.Timestamptz(6)
  updated_at  DateTime @default(now()) @db.Timestamptz(6)
}

model rubrics {
  id        BigInt  @id @default(autoincrement())
  code      String  @unique(map: "ix_rubrics_code") @db.VarChar(64)
  name_pl   String  @db.VarChar(128)
  is_active Boolean @default(true)
}
